# WordPiece

> WHAT:

WordPiece的目标是使用一种最优的子词单元集合来有效地表示词语。这种方法通过将词语分解为子词（subword）来避免“词汇外问题”（OOV，Out-Of-Vocabulary），即处理词汇表中没有的词。通过子词级别的分词，WordPiece能够较好地处理新词（例如，专有名词、拼写错误等）并且在训练过程中保持高效性。

> 核心思想:

将词语分解为更小的单位（子词），以解决传统基于词汇表的分词方法在处理未知词汇时的限制问题。

> 工作流程：

1. 初始化词汇表
    - 初始的词汇表通常包含一个特殊的字符集（如字母、标点符号等），以及一部分常见的单词。
	- 特殊字符集包括：[UNK]（表示未在词汇表中的词），[CLS]（分类标记），[SEP]（分隔符标记）等。
2. 训练词汇表
    - 通过训练数据集，统计词频，然后根据词频构建词汇表。
    - 词频统计可以使用BPE（Byte Pair Encoding）算法，也可以使用其他的统计方法。
3. 子词分割：使用训练得到的词汇表，WordPiece在处理新文本时将会尽量将词语分解成现有词汇表中的子词。例如：
	- 对于词“unhappiness”，WordPiece会尝试分解成“un” + “##happiness”。
	- 其中“##”表示该子词是前一个词的后缀部分。
4. 未知词处理（UNK）：
	- 如果某个词完全不在词汇表中，WordPiece将会将其分解为最小的字符单位，直到每个子词都能匹配词汇表中的某个条目。如果仍然无法匹配，最终的词将被替换为 [UNK]。


